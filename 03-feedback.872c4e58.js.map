{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAwCIC,EAAOC,SAASC,cAAc,kBAC9BC,GAAY,EAAAL,EAAAM,WAAS,YAjBP,WACd,IAAIC,EAAYC,aAAaC,QAAQ,uBAGrC,GAA4B,MAF5BF,EAAYG,KAAKC,MAAMJ,IAETK,WAA8C,KAA1BL,EAAUM,YACxC,IACIX,EAAKY,SAASC,MAAMC,MAAQT,EAAUK,UACtCV,EAAKY,SAASG,QAAQC,UAAYX,EAAUM,W,CAC9C,MAAOM,GACLC,QAAQD,MAAM,oBAAqBA,EAAMF,Q,EAQdI,E,GAAiB,KAExDnB,EAAKoB,iBAAiB,UAzCL,SAACC,GACdA,EAAMC,iBACN,IAA0DC,EAAnBF,EAAMG,cAAvCZ,SAAYC,EAAKU,EAALV,MAAOE,EAAOQ,EAAPR,QACN,IAAfF,EAAMC,OAAgC,IAAjBC,EAAQD,MAAeW,MAAM,mCAElDnB,aAAaoB,WAAW,uBACxBR,QAAQS,IAAI,iBAA6CC,OAA5Bf,EAAMC,MAAM,kBAA8Bc,OAAdb,EAAQD,QACjEO,EAAMG,cAAcK,Q,IAmC5B7B,EAAKoB,iBAAiB,SA9BP,SAACC,GACZA,EAAMC,iBACN,IAA0DC,EAAnBF,EAAMG,cAAvCZ,SAAYC,EAAKU,EAALV,MAAOE,EAAOQ,EAAPR,QACrBe,EAAQ,CACRpB,UAAWG,EAAMC,MACjBH,YAAaI,EAAQD,OAEzBR,aAAayB,QAAQ,sBAAuBvB,KAAKwB,UAAUF,G,IAwB/D3B,G","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nlet submitForm = (event) => { \n    event.preventDefault();\n    let { elements: { email, message } } = event.currentTarget;\n    if (email.value == '' || message.value == '') { alert(\"Please fill in all the fields!\") }\n    else {\n        localStorage.removeItem(\"feedback-form-state\");\n        console.log(`Send mail to: ${email.value}, message is: ${message.value}`);\n        event.currentTarget.reset();\n    }\n   \n}\n\nlet formData = (event) => { \n    event.preventDefault();\n    let { elements: { email, message } } = event.currentTarget;\n    let input = {\n        emailData: email.value,\n        messageData: message.value\n    }\n    localStorage.setItem('feedback-form-state', JSON.stringify(input));\n}\n\nlet loadStorage = () => { \n    let savedData = localStorage.getItem(\"feedback-form-state\");\n    savedData = JSON.parse(savedData);\n    \n    if (savedData.emailData !== '' || savedData.messageData !== '') {\n        try {\n            form.elements.email.value = savedData.emailData;\n            form.elements.message.innerHTML = savedData.messageData;\n        } catch (error) {\n            console.error(\"Get state error: \", error.message);\n        }\n    }\n  \n};\n\n\nlet form = document.querySelector('.feedback-form')\nlet throttled = throttle(function () { loadStorage() }, 500);\n\nform.addEventListener('submit', submitForm);\nform.addEventListener('input',  formData );\nthrottled()\n\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$throttled","throttle","savedData","localStorage","getItem","JSON","parse","emailData","messageData","elements","email","value","message","innerHTML","error","console","$b00c40859be242c5$var$loadStorage","addEventListener","event","preventDefault","_elements","currentTarget","alert","removeItem","log","concat","reset","input","setItem","stringify"],"version":3,"file":"03-feedback.872c4e58.js.map"}