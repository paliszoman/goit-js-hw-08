{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAOF,SAASC,cAAc,SAC9BE,EAAcH,SAASC,cAAc,YACrCG,EAAYC,aAAaC,QAAQ,uBACjCC,EAAaC,KAAKC,MAAML,GAE9BL,EAAKW,iBAAiB,SAAU,EAAAb,EAAAc,WAAS,WACrC,IAAMC,EAAQ,CACVC,UAAWd,EAAKe,SAASC,MAAMC,MAC/BC,YAAalB,EAAKe,SAASI,QAAQF,OAEvCX,aAAac,QAAQ,sBAAuBX,KAAKY,UAAUR,G,GAC5D,MAEHb,EAAKW,iBAAiB,UAAU,SAACW,GAC7BA,EAAMC,iBACN,IAA0DC,EAAnBF,EAAMG,cAAvCV,SAAYC,EAAKQ,EAALR,MAAOG,EAAOK,EAAPL,QACN,IAAfH,EAAMC,OAAgC,IAAjBE,EAAQF,MAAeS,MAAM,mCAElDC,QAAQC,IAAI,iBAA6CC,OAA5Bb,EAAMC,MAAM,kBAA8BY,OAAdV,EAAQF,QACjEK,EAAMG,cAAcK,QACpBxB,aAAayB,Q,KAKH,WACd,GAAkB,OAAd1B,EACA,IACIF,EAAKc,MAAQT,EAAWM,UACxBV,EAAY4B,UAAYxB,EAAWU,W,CACrC,MAAOe,GACLN,QAAQM,MAAM,oBAAqBA,EAAMd,Q,EAIrDe,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst mail = document.querySelector('input');\nconst textMessage = document.querySelector('textarea')\nconst savedData = localStorage.getItem(\"feedback-form-state\");\nconst parsedData = JSON.parse(savedData);\n\nform.addEventListener('input',  throttle(() => { \n    const input = {\n        emailData: form.elements.email.value,\n        messageData: form.elements.message.value\n    };\n    localStorage.setItem('feedback-form-state', JSON.stringify(input));\n}, 500));\n\nform.addEventListener('submit', (event) => { \n    event.preventDefault();\n    let { elements: { email, message } } = event.currentTarget;\n    if (email.value == '' || message.value == '') { alert(\"Please fill in all the fields!\") }\n    else {\n        console.log(`Send mail to: ${email.value}, message is: ${message.value}`);\n        event.currentTarget.reset();\n        localStorage.clear();\n    }\n});\n\n\nlet loadStorage = () => { \n    if (savedData !== null) {\n        try {\n            mail.value = parsedData.emailData;\n            textMessage.innerHTML = parsedData.messageData;\n        } catch (error) {\n            console.error(\"Get state error: \", error.message);\n        }\n    }\n};\nloadStorage()\n\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$mail","$b00c40859be242c5$var$textMessage","$b00c40859be242c5$var$savedData","localStorage","getItem","$b00c40859be242c5$var$parsedData","JSON","parse","addEventListener","throttle","input","emailData","elements","email","value","messageData","message","setItem","stringify","event","preventDefault","_elements","currentTarget","alert","console","log","concat","reset","clear","innerHTML","error","$b00c40859be242c5$var$loadStorage"],"version":3,"file":"03-feedback.a22a5c48.js.map"}