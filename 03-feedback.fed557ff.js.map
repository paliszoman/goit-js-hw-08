{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAOF,SAASC,cAAc,SAC9BE,EAAcH,SAASC,cAAc,YACrCG,EAAYC,aAAaC,QAAQ,uBACjCC,EAAaC,KAAKC,MAAML,GAgC9BL,EAAKW,iBAAiB,SAAU,EAAAb,EAAAc,WAnBhBC,IACZ,IAAMC,UAAUC,MAAEA,EAAKC,QAAEA,IAAcH,EAAMI,cACzCC,EAAQ,CACRC,UAAWJ,EAAMK,MACjBC,YAAaL,EAAQI,OAEzBd,aAAagB,QAAQ,sBAAuBb,KAAKc,UAAUL,GAAO,GAalB,MACpDlB,EAAKW,iBAAiB,UA/BJE,IACdA,EAAMW,iBACN,IAAMV,UAAUC,MAAEA,EAAKC,QAAEA,IAAcH,EAAMI,cAC1B,IAAfF,EAAMK,OAAgC,IAAjBJ,EAAQI,MAAeK,MAAM,mCAElDC,QAAQC,IAAI,iBAAiBZ,EAAMK,sBAAsBJ,EAAQI,SACjEP,EAAMI,cAAcW,QACpBtB,aAAauB,Q,IAaH,MACd,GAAkB,OAAdxB,EACA,IACIF,EAAKiB,MAAQZ,EAAWW,UACxBf,EAAY0B,UAAYtB,EAAWa,W,CACrC,MAAOU,GACLL,QAAQK,MAAM,oBAAqBA,EAAMf,Q,GAMrDgB","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst mail = document.querySelector('input');\nconst textMessage = document.querySelector('textarea')\nconst savedData = localStorage.getItem(\"feedback-form-state\");\nconst parsedData = JSON.parse(savedData);\n\nlet submitForm = (event) => { \n    event.preventDefault();\n    let { elements: { email, message } } = event.currentTarget;\n    if (email.value == '' || message.value == '') { alert(\"Please fill in all the fields!\") }\n    else {\n        console.log(`Send mail to: ${email.value}, message is: ${message.value}`);\n        event.currentTarget.reset();\n        localStorage.clear();\n    }\n}\n\nlet formData = (event) => { \n    let { elements: { email, message } } = event.currentTarget;\n    let input = {\n        emailData: email.value,\n        messageData: message.value\n    }\n    localStorage.setItem('feedback-form-state', JSON.stringify(input));\n}\n\nlet loadStorage = () => { \n    if (savedData !== null) {\n        try {\n            mail.value = parsedData.emailData;\n            textMessage.innerHTML = parsedData.messageData;\n        } catch (error) {\n            console.error(\"Get state error: \", error.message);\n        }\n    }\n};\nform.addEventListener('input',  throttle(formData , 500));\nform.addEventListener('submit', submitForm);\nloadStorage()\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$mail","$945622fd0f572e60$var$textMessage","$945622fd0f572e60$var$savedData","localStorage","getItem","$945622fd0f572e60$var$parsedData","JSON","parse","addEventListener","throttle","event","elements","email","message","currentTarget","input","emailData","value","messageData","setItem","stringify","preventDefault","alert","console","log","reset","clear","innerHTML","error","$945622fd0f572e60$var$loadStorage"],"version":3,"file":"03-feedback.fed557ff.js.map"}